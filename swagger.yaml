openapi: 3.0.0
info:
  title: Task  Management API
  version: 1.0.0
  description: API for managing tasks, subtasks, activities, and user accounts with admin-protected routes.

servers:
  - url: https://task-manager-full-stack-mu.vercel.app/api
    description: Local development server

tags:
  - name: Tasks
    description: Endpoints for task management
  - name: Users
    description: Endpoints for user management

paths:
  /tasks/create:
    post:
      tags: [Tasks]
      summary: Create a new task
      security:
        - bearerAuth: []
      responses:
        "201":
          description: Task created successfully

  /tasks/duplicate/{id}:
    post:
      tags: [Tasks]
      summary: Duplicate an existing task
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: string }
      security:
        - bearerAuth: []
      responses:
        "200":
          description: Task duplicated successfully

  /tasks/activity/{id}:
    post:
      tags: [Tasks]
      summary: Add activity to a task
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: string }
      security:
        - bearerAuth: []
      responses:
        "200":
          description: Activity logged successfully

  /tasks/dashboard:
    get:
      tags: [Tasks]
      summary: Get dashboard statistics
      security:
        - bearerAuth: []
      responses:
        "200":
          description: Dashboard statistics retrieved

  /tasks:
    get:
      tags: [Tasks]
      summary: Get all tasks
      security:
        - bearerAuth: []
      responses:
        "200":
          description: List of tasks

  /tasks/{id}:
    get:
      tags: [Tasks]
      summary: Get a single task
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: string }
      security:
        - bearerAuth: []
      responses:
        "200":
          description: Task retrieved successfully
    put:
      tags: [Tasks]
      summary: Move task to trash
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: string }
      security:
        - bearerAuth: []
      responses:
        "200":
          description: Task trashed successfully

  /tasks/create-subtask/{id}:
    put:
      tags: [Tasks]
      summary: Create a subtask under a task
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: string }
      security:
        - bearerAuth: []
      responses:
        "201":
          description: Subtask created successfully

  /tasks/update/{id}:
    put:
      tags: [Tasks]
      summary: Update a task
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: string }
      security:
        - bearerAuth: []
      responses:
        "200":
          description: Task updated successfully

  /tasks/delete-restore/{id}:
    delete:
      tags: [Tasks]
      summary: Delete or restore a task
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: string }
      security:
        - bearerAuth: []
      responses:
        "200":
          description: Task deleted or restored successfully

  /users/register:
    post:
      tags: [Users]
      summary: Register a new user
      responses:
        "201":
          description: User registered successfully

  /users/login:
    post:
      tags: [Users]
      summary: Login user
      responses:
        "200":
          description: User logged in successfully

  /users/logout:
    post:
      tags: [Users]
      summary: Logout user
      security:
        - bearerAuth: []
      responses:
        "200":
          description: User logged out successfully

  /users/get-team:
    get:
      tags: [Users]
      summary: Get team list (Admin only)
      security:
        - bearerAuth: []
      responses:
        "200":
          description: Team list retrieved

  /users/notifications:
    get:
      tags: [Users]
      summary: Get notifications list
      security:
        - bearerAuth: []
      responses:
        "200":
          description: Notifications retrieved

  /users/profile:
    put:
      tags: [Users]
      summary: Update user profile
      security:
        - bearerAuth: []
      responses:
        "200":
          description: Profile updated successfully

  /users/read-noti:
    put:
      tags: [Users]
      summary: Mark notification as read
      security:
        - bearerAuth: []
      responses:
        "200":
          description: Notification marked as read

  /users/change-password:
    put:
      tags: [Users]
      summary: Change user password
      security:
        - bearerAuth: []
      responses:
        "200":
          description: Password changed successfully

  /users/{id}:
    put:
      tags: [Users]
      summary: Activate user profile (Admin only)
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: string }
      security:
        - bearerAuth: []
      responses:
        "200":
          description: User profile activated
    delete:
      tags: [Users]
      summary: Delete user profile (Admin only)
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: string }
      security:
        - bearerAuth: []
      responses:
        "200":
          description: User profile deleted

components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
